#!/usr/bin/env bash
#rg="clusterResourceGroup"
#clusterName="k8Cluster"
#masters="1"
#agents="1"
#location="eastus"
#machineType="Standard_A2"
#dnsPrefix="dasanderk8"
echo ""
echo "Step 1 - Spinning up Azure ACS Kubernetes cluster"
echo "-------------------------------------------------"
echo ""
echo "NOTE: Your input will be required if ~/.ssh/id_rsa"
echo "      is password protected."
echo ""
echo "1. Create the resource group "$rg" in "$location
az group create --name $rg --location $location
echo ""
echo "2. Create the cluster. --resource-group "$rg" --clusterName "$clusterName" --master-count "$masters" --agent-count "$agents
az acs create \
  --orchestrator-type kubernetes \
  --resource-group $rg \
  --name $clusterName \
  --master-count $masters \
  --agent-count $agents \
  --generate-ssh-keys \
  --dns-prefix $dnsPrefix \
  --agent-vm-size $machineType
echo ""
echo "3. Add private key. Enter your credentials..."
ssh-add -k ~/.ssh/id_rsa
echo ""
echo "4. Get kubernetes credentials"
az acs kubernetes get-credentials --resource-group=$rg --name=$clusterName
echo ""
echo "Step 1 - Spinning up Azure ACS Kubernetes cluster **COMPLETE**"
echo "--------------------------------------------------------------"
echo ""
